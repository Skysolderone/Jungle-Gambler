# 管道系统图标设计需求

## 项目背景
Jungle Gambler 管道拼图系统需要一套清晰、易识别的管道图标，用于5×5格子的战斗准备界面。

## 基础规格

### 技术规格
- **尺寸**: 128×128 px（推荐），也可以提供 256×256 高清版本
- **格式**: PNG，**必须带透明背景**
- **分辨率**: 72 DPI（屏幕显示）
- **颜色模式**: RGBA
- **文件大小**: 单个图标 < 50KB

### 命名规范
```
pipe_straight_h.png    # 直管-横向
pipe_bend_lu.png       # 弯管-左上
pipe_source.png        # 起点
...（详见下方列表）
```

## 图标清单（共13个基础图标）

### 1. 直管（2个）
- `pipe_straight_h.png` - 横向直管 ━
  - 端口: 左、右
  - 特征: 水平管道，两端开口
  
- `pipe_straight_v.png` - 竖向直管 ┃
  - 端口: 上、下
  - 特征: 垂直管道，两端开口

### 2. 弯管（4个）
- `pipe_bend_lu.png` - 左上弯管 ┛
  - 端口: 左、上
  - 特征: 90度弯曲，连接左侧和上方
  
- `pipe_bend_ld.png` - 左下弯管 ┓
  - 端口: 左、下
  - 特征: 90度弯曲，连接左侧和下方
  
- `pipe_bend_ru.png` - 右上弯管 ┗
  - 端口: 右、上
  - 特征: 90度弯曲，连接右侧和上方
  
- `pipe_bend_rd.png` - 右下弯管 ┏
  - 端口: 右、下
  - 特征: 90度弯曲，连接右侧和下方

### 3. T型管（4个）
- `pipe_t_up.png` - T型-上开口 ┻
  - 端口: 左、右、上
  - 特征: 三向连接，底部封闭
  
- `pipe_t_down.png` - T型-下开口 ┳
  - 端口: 左、右、下
  - 特征: 三向连接，顶部封闭
  
- `pipe_t_left.png` - T型-左开口 ┫
  - 端口: 上、下、左
  - 特征: 三向连接，右侧封闭
  
- `pipe_t_right.png` - T型-右开口 ┣
  - 端口: 上、下、右
  - 特征: 三向连接，左侧封闭

### 4. 十字管（1个）
- `pipe_cross.png` - 十字型 ╋
  - 端口: 上、下、左、右
  - 特征: 四向全通

### 5. 特殊标记（2个）
- `pipe_source.png` - 能量起点 ◉
  - 端口: 右
  - 特征: 发光/脉冲效果，表示能量源头
  - 视觉建议: 金色、发光圆形，带箭头指向右侧
  
- `pipe_sink.png` - 能量终点 ◎
  - 端口: 左
  - 特征: 接收效果，表示能量终点
  - 视觉建议: 蓝色/绿色，带旋涡或接收图案

## 设计风格建议

### 视觉风格
1. **整体风格**: 科幻/机械风格，带有能量科技感
2. **立体感**: 轻微的3D效果，有厚度感
3. **材质**: 金属质感，带有反光和阴影
4. **内部**: 管道内部可见，建议有暗光或能量流动的暗示

### 色彩方案

#### 方案A：双状态设计（推荐）
**未连通状态**（默认）：
- 主色: 深灰色 (#3A3A3A)
- 边缘: 银色金属感 (#6A6A6A)
- 内部: 暗黑色 (#1A1A1A)

**已连通状态**（带 `_on` 后缀）：
- 主色: 亮金色或电蓝色
- 边缘: 发光效果
- 内部: 能量流光（动态感）

#### 方案B：单状态设计
使用中性色（如古铜色），通过代码调色实现状态变化

### 旋转要求
- ⚠️ **重要**: 所有图标必须支持 0°/90°/180°/270° 旋转
- 管道的中心点必须在图标的几何中心（64px, 64px）
- 端口开口应精确指向边缘中点（上: 64,0 | 下: 64,128 | 左: 0,64 | 右: 128,64）
- 测试时应确保旋转后管道能完美对接

## 使用场景示例

### 游戏中的使用
1. **5×5格子网格**: 每个格子60×60px显示
2. **拖拽移动**: 玩家可以拖动管道到空位
3. **右键旋转**: 顺时针旋转90度（带动画）
4. **连通检测**: 从起点到终点形成完整路径

### 品质差异（可选扩展）
游戏中魂印有6个品质等级，可以通过**边框颜色**区分：
- 普通: 灰色边框
- 非凡: 绿色边框
- 稀有: 蓝色边框
- 史诗: 紫色边框
- 传说: 橙色边框
- 神话: 红色边框

## 交付要求

### 必须交付
- [ ] 13个基础图标（PNG，128×128）
- [ ] 透明背景
- [ ] 命名规范正确

### 可选交付（加分项）
- [ ] 高清版本（256×256）
- [ ] 已连通状态图标（带 `_on` 后缀）
- [ ] 源文件（PSD/AI）
- [ ] Sprite Sheet 合集版本

### 文件结构
```
res://assets/ui/pipes/
├── pipe_straight_h.png
├── pipe_straight_v.png
├── pipe_bend_lu.png
├── pipe_bend_ld.png
├── pipe_bend_ru.png
├── pipe_bend_rd.png
├── pipe_t_up.png
├── pipe_t_down.png
├── pipe_t_left.png
├── pipe_t_right.png
├── pipe_cross.png
├── pipe_source.png
└── pipe_sink.png
```

## 参考资料

### 游戏参考
- 水管工游戏（Pipe Mania）
- Infinifactory 的管道系统
- Factorio 的传送带系统

### 视觉参考
- 科幻电影中的能量管道
- 赛博朋克风格的线路板
- 蒸汽朋克的铜管系统

## 技术对接

### 代码集成位置
- 文件: `scripts/PipeBattle.gd`
- 函数: `_create_cell(x, y)` - 在此处将 Label 文本替换为 TextureRect
- 资源路径: `res://assets/ui/pipes/`

### 测试方法
1. 将图标放入 `res://assets/ui/pipes/` 目录
2. 运行 `res://scenes/PipeBattle.tscn` 场景
3. 右键点击管道测试旋转效果
4. 检查连通状态的视觉反馈

## 联系方式
如有疑问，请联系开发团队确认设计细节。

---
**文档版本**: v1.0  
**最后更新**: 2025-11-07  
**优先级**: 高

